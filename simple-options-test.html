<!DOCTYPE html>
<html>
<head>
    <title>Simple Options Test</title>
    <style>
        body { padding: 20px; font-family: Arial, sans-serif; }
        .category { margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .fake-data { margin: 10px 0; padding: 10px; background: #e8f5e8; border-radius: 5px; }
        input[type="text"] { width: 300px; padding: 5px; }
    </style>
</head>
<body>
    <h1>Simple Options Test</h1>
    
    <h2>Categories</h2>
    <div id="categories-test"></div>
    
    <h2>Fake Data</h2>
    <div id="fake-data-test"></div>
    
    <button onclick="saveTest()">Save Test Data</button>
    <button onclick="loadTest()">Load Test Data</button>
    
    <script>
        // Simple test categories
        const testCategories = {
            EMAIL: true,
            PHONE: true,
            CARD: true,
            NAME: true
        };
        
        const testFakeData = {
            EMAIL: "test@example.com",
            PHONE: "+1234567890",
            CARD: "1234 5678 9012 3456",
            NAME: "Test User"
        };
        
        function renderTest() {
            // Render categories
            const catContainer = document.getElementById('categories-test');
            catContainer.innerHTML = '';
            
            Object.keys(testCategories).forEach(cat => {
                const div = document.createElement('div');
                div.className = 'category';
                div.innerHTML = `
                    <label>
                        <input type="checkbox" id="cat-${cat}" ${testCategories[cat] ? 'checked' : ''}>
                        ${cat}
                    </label>
                `;
                catContainer.appendChild(div);
            });
            
            // Render fake data
            const fakeContainer = document.getElementById('fake-data-test');
            fakeContainer.innerHTML = '';
            
            Object.keys(testFakeData).forEach(cat => {
                const div = document.createElement('div');
                div.className = 'fake-data';
                div.innerHTML = `
                    <label>
                        ${cat}: <input type="text" id="fake-${cat}" value="${testFakeData[cat]}">
                    </label>
                `;
                fakeContainer.appendChild(div);
            });
        }
        
        function saveTest() {
            const testData = { testCategories, testFakeData };
            chrome.storage.local.set({ test_data: testData }, () => {
                console.log('Test data saved:', testData);
            });
        }
        
        function loadTest() {
            chrome.storage.local.get({ test_data: null }, ({ test_data }) => {
                console.log('Test data loaded:', test_data);
                if (test_data) {
                    Object.assign(testCategories, test_data.testCategories);
                    Object.assign(testFakeData, test_data.testFakeData);
                    renderTest();
                }
            });
        }
        
        renderTest();
    </script>
</body>
</html>
