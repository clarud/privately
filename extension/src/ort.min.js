/**
 * ONNX Runtime Web - Minimal stub for extension compatibility
 * This is a simplified version that will work without external dependencies
 */

// Create a minimal ONNX runtime stub
window.ort = {
  env: {
    wasm: {
      wasmPaths: ''
    }
  },
  
  InferenceSession: {
    async create(modelPath) {
      console.log('ðŸ¤– ONNX Stub: Creating session for', modelPath);
      
      return {
        inputNames: ['input_ids', 'attention_mask'],
        outputNames: ['logits'],
        
        async run(inputs) {
          console.log('ðŸ¤– ONNX Stub: Running inference with inputs:', Object.keys(inputs));
          
          // Return mock predictions for testing
          // In a real implementation, this would run the actual model
          const mockLogits = new Float32Array(128 * 5); // 128 tokens, 5 labels
          
          // Fill with random values for demonstration
          for (let i = 0; i < mockLogits.length; i++) {
            mockLogits[i] = Math.random();
          }
          
          return {
            logits: {
              data: mockLogits,
              dims: [1, 128, 5]
            }
          };
        }
      };
    }
  },
  
  Tensor: class {
    constructor(type, data, dims) {
      this.type = type;
      this.data = data;
      this.dims = dims;
    }
  }
};

console.log('âœ… ONNX Runtime stub loaded');
